webpackJsonp([1,0],[function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var i=n(11),s=a(i),r=n(48),o=a(r),c=n(76),u=a(c),l=n(77);n(45),n(47),n(46);var d=n(74),f=a(d),p=n(12);s.default.use(u.default),s.default.use(f.default),s.default.filter("formatDate",p.formatDate);var v=new u.default({mode:"history",routes:l.routes});new s.default({el:"#app",template:"<App/>",components:{App:o.default},router:v})},,,,,,,,,function(t,e,n){var a,i;n(32),a=n(80);var s=n(61);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=s.render,i.staticRenderFns=s.staticRenderFns,t.exports=a},function(t,e,n){var a,i;n(37),a=n(81);var s=n(66);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=s.render,i.staticRenderFns=s.staticRenderFns,i._scopeId="data-v-4399cf10",t.exports=a},,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.formatDate=function(t){if(t){var e=new Date(t),n=new Date,a=n-e,i={s:1e3,m:6e4,h:36e5,d:864e5,M:26784e5,Y:321408e5};return a<0?void 0:a<i.m?"刚刚":a<i.h?parseInt(a/i.m)+"分钟前":a<i.d?parseInt(a/i.h)+"小时前":a<i.M?parseInt(a/i.d)+"天前":a<i.Y?parseInt(a/i.M)+"月前":parseInt(a/i.Y)+"年前"}}},,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){var a,i;n(34),a=n(78);var s=n(63);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=s.render,i.staticRenderFns=s.staticRenderFns,t.exports=a},function(t,e,n){var a,i;n(33),a=n(79);var s=n(62);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=s.render,i.staticRenderFns=s.staticRenderFns,t.exports=a},function(t,e,n){var a,i;n(38),a=n(82);var s=n(67);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=s.render,i.staticRenderFns=s.staticRenderFns,t.exports=a},function(t,e,n){var a,i;n(41),a=n(83);var s=n(70);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=s.render,i.staticRenderFns=s.staticRenderFns,t.exports=a},function(t,e,n){var a,i;n(31),a=n(84);var s=n(60);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=s.render,i.staticRenderFns=s.staticRenderFns,t.exports=a},function(t,e,n){var a,i;n(44),a=n(85);var s=n(73);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=s.render,i.staticRenderFns=s.staticRenderFns,t.exports=a},function(t,e,n){var a,i;n(35),a=n(86);var s=n(64);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=s.render,i.staticRenderFns=s.staticRenderFns,t.exports=a},function(t,e,n){var a,i;n(40),a=n(87);var s=n(69);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=s.render,i.staticRenderFns=s.staticRenderFns,t.exports=a},function(t,e,n){var a,i;n(39),a=n(88);var s=n(68);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=s.render,i.staticRenderFns=s.staticRenderFns,t.exports=a},function(t,e,n){var a,i;n(36),a=n(89);var s=n(65);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=s.render,i.staticRenderFns=s.staticRenderFns,t.exports=a},function(t,e,n){var a,i;n(43),a=n(90);var s=n(72);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=s.render,i.staticRenderFns=s.staticRenderFns,t.exports=a},function(t,e,n){var a,i;n(42),a=n(91);var s=n(71);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=s.render,i.staticRenderFns=s.staticRenderFns,t.exports=a},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topic-list"},[t.loading?t._e():n("ul",t._l(t.topicList,function(e,a){return n("li",{class:[{good:e.good},{top:e.top}],on:{click:function(n){t.routeToTopic(e.id)}}},[n("div",{staticClass:"topic-user"},[n("img",{attrs:{src:e.author.avatar_url,width:"20",height:"20"}}),t._v(" "),n("span",{staticClass:"user-name"},[t._v(t._s(e.author.loginname))]),t._v(" "),n("span",{staticClass:"create-info"})]),t._v(" "),n("h1",[t._v(t._s(e.title))]),t._v(" "),n("div",{staticClass:"topic-info"},[n("span",[t._v(t._s(e.visit_count)+"查看·")]),t._v(" "),n("span",[t._v(t._s(e.reply_count)+"评论·")]),t._v(" "),n("span",[t._v(t._s(t._f("formatDate")(e.last_reply_at))+"new")])]),t._v(" "),e.tab?n("div",{staticClass:"topic-label"},[n("span",[t._v(t._s(t._f("getLabel")(e.tab)))])]):t._e()])})),t._v(" "),t.loading?n("div",[n("loading")],1):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[t.isNav?n("ul",[n("li",[n("router-link",{class:{active:"all"==t.$route.params.tab},attrs:{to:"/topics/all"}},[t._v("全部")])],1),t._v(" "),n("li",[n("router-link",{class:{active:"good"==t.$route.params.tab},attrs:{to:"/topics/good"}},[t._v("精华")])],1),t._v(" "),n("li",[n("router-link",{class:{active:"share"==t.$route.params.tab},attrs:{to:"/topics/share"}},[t._v("分享")])],1),t._v(" "),n("li",[n("router-link",{class:{active:"ask"==t.$route.params.tab},attrs:{to:"/topics/ask"}},[t._v("问答")])],1),t._v(" "),n("li",[n("router-link",{class:{active:"job"==t.$route.params.tab},attrs:{to:"/topics/job"}},[t._v("招聘")])],1)]):t._e(),t._v(" "),t.isNav?t._e():n("div",{staticClass:"left",on:{click:t.goBack}},[n("i",{class:{"icon-arrow_lift":"back"===t.iconType}})]),t._v(" "),t.isNav?t._e():n("div",{staticClass:"header-info"},[n("p",[t._v(t._s(t.title))]),t._v(" "),n("p",[t._v(t._s(t.ratingNumStr))])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav"},[n("ul",t._l(t.classNames,function(t,e){return n("li",{staticClass:"nav-item"},[n("router-link",{class:t.className,attrs:{to:t.path}})],1)}))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"find"},[t._v("iam find")])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"message"},[t._v("message")])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loading-wrap"},[n("div",{staticClass:"loading"},[n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rating"},[n("div",{staticClass:"user"},[n("img",{attrs:{src:t.rating.author.avatar_url,width:"26",height:"26"}}),t._v(" "),n("span",[t._v(t._s(t.rating.author.loginname))])]),t._v(" "),n("div",{staticClass:"markdown-body",domProps:{innerHTML:t._s(t.rating.content)}}),t._v(" "),n("div",{staticClass:"rating-footer"},[n("div",{staticClass:"create-time"},[n("span",[t._v(t._s(t._f("formatDate")(t.rating.create_at)))])]),t._v(" "),n("div",{staticClass:"up"},[n("i",{staticClass:"icon-up"}),t._v(" "),n("span",[t._v(t._s(t.upCount))])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("router-view"),t._v(" "),n("vfooter")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info"},[t._v("info")])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ratingsort"},[n("div",{staticClass:"left"},[n("span",[t._v(t._s(t.ratingNumState))])]),t._v(" "),n("div",{staticClass:"right"},[n("div",{staticClass:"right-wrapper",on:{click:t.togglePlane}},[n("span",[t._v(t._s(t.string))]),t._v(" "),n("i",{staticClass:"icon-sort"}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.plane,expression:"plane"}],staticClass:"sortPlane"},[n("div",{staticClass:"plane-item",on:{click:function(e){e.stopPropagation(),t.sort("quality")}}},[n("span",[t._v("按点赞排序")]),t._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:"quality"===t.currentSort,expression:"currentSort === 'quality'"}],staticClass:"icon-yes"})]),t._v(" "),n("div",{staticClass:"plane-item",on:{click:function(e){e.stopPropagation(),t.sort("time")}}},[n("span",[t._v("按时间排序")]),t._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:"time"===t.currentSort,expression:"currentSort === 'time'"}],staticClass:"icon-yes"})]),t._v(" "),n("div",{staticClass:"plane-item",on:{click:function(e){e.stopPropagation(),t.sort("default")}}},[n("span",[t._v("按楼层排序")]),t._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:"default"===t.currentSort,expression:"currentSort === 'default'"}],staticClass:"icon-yes"})])])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topic"},[n("div",{staticClass:"header-wrapper"},[n("vheader")],1),t._v(" "),n("topiclist")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topic"},[n("div",{staticClass:"header-wrapper"},[n("vheader",{attrs:{"is-nav":!1,title:t.header.title,ratingNum:t.header.ratingNum}})],1),t._v(" "),t.dataState.finished?n("div",{directives:[{name:"scroll",rawName:"v-scroll",value:t.onScroll,expression:"onScroll"}],staticClass:"topic-content"},[n("div",{staticClass:"topic-main"},[n("div",{staticClass:"user"},[n("img",{attrs:{src:t.topic.author.avatar_url,width:"26",height:"26"}}),t._v(" "),n("span",[t._v(t._s(t.topic.author.loginname))])]),t._v(" "),n("h2",[t._v(t._s(t.topic.title))]),t._v(" "),n("div",{staticClass:"markdown-body",domProps:{innerHTML:t._s(t.topic.content)}}),t._v(" "),n("div",{staticClass:"topic-main-footer"},[n("i",{staticClass:"icon-see"}),n("span",[t._v(t._s(t.topic.visit_count))]),t._v(" "),n("i",{staticClass:"icon-rating"}),n("span",[t._v(t._s(t.topic.reply_count))]),t._v(" "),n("span",[t._v(t._s(t._f("formatDate")(t.topic.create_at)))])])]),t._v(" "),t._m(0),t._v(" "),n("ratingsort",{attrs:{"rating-num":t.ratings.length},on:{sort:t.sort}}),t._v(" "),n("ul",{staticClass:"topic-ratings"},t._l(t.sortRatings,function(t,e){return n("li",[n("rating",{attrs:{rating:t}})],1)}))],1):t._e(),t._v(" "),t.dataState.loading?n("div",[n("loading")],1):t._e(),t._v(" "),t.dataState.err?n("div",[t._v("\n    err\n  ")]):t._e()])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goRating"},[n("i",{staticClass:"icon-write"}),t._v(" "),n("span",[t._v("写评论")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"alert"},[t._v("iam alert")])},staticRenderFns:[]}},,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.routes=[{path:"/",component:n(56),children:[{path:"",redirect:"/topics/all"},{path:"/topics",redirect:"/topics/all"},{path:"/find",component:n(54)},{path:"/alert",component:n(53)},{path:"/message",component:n(57)},{path:"/info",component:n(55)},{path:"/topics/:tab",component:n(59)}]},{path:"/topic/:id",name:"topic",component:n(58)}]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{classNames:[{path:"/topics",className:"icon-list2"},{path:"/find",className:"icon-find"},{path:"/alert",className:"icon-alert"},{path:"/message",className:"icon-go"},{path:"/info",className:"icon-info"}]}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{isNav:{type:Boolean,default:!0},title:{type:String,default:""},ratingNum:{type:Number,default:0},iconType:{type:String,default:"back"}},computed:{ratingNumStr:function(){return 0===this.ratingNum?"":this.ratingNum+"个评论"}},methods:{goBack:function(){this.$router.go(-1)}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{rating:{type:Object}},computed:{upCount:function(){return this.rating.ups.length}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{ratingNum:{type:Number,default:0}},data:function(){return{currentSort:"default",plane:!1}},computed:{string:function(){return"time"===this.currentSort?"按时间排序":"quality"===this.currentSort?"按点赞排序":"按楼层排序"},ratingNumState:function(){return 0===this.ratingNum?"暂无评论":this.ratingNum+"个评论"}},methods:{togglePlane:function(){this.plane=!this.plane},sort:function(t){return this.currentSort===t?void this.togglePlane():(this.currentSort=t,this.togglePlane(),void this.$emit("sort",t))}}}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),s=a(i),r=n(12),o=n(10),c=a(o);e.default={data:function(){return{topicList:[],loading:!0}},methods:{getTopicList:function(t){var e=this,n="";n="all"===t?"https://cnodejs.org/api/v1/topics":"https://cnodejs.org/api/v1/topics?tab="+t,this.loading=!0,s.default.get(n).then(function(t){t.data.success&&(e.topicList=t.data.data,e.loading=!1)}).catch(function(t){console.log(t)})},routeToTopic:function(t){this.$router.push({name:"topic",params:{id:t}})}},created:function(){this.getTopicList("all")},filters:{formatDate:r.formatDate,getLabel:function(t){switch(t){case"share":return"分享";case"ask":return"问答";case"job":return"招聘";default:return""}}},watch:{$route:function(t,e){this.getTopicList(t.params.tab)}},components:{loading:c.default}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(49),s=a(i);e.default={components:{vfooter:s.default}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),s=a(i),r=n(9),o=a(r),c=n(51),u=a(c),l=n(50),d=a(l),f=n(10),p=a(f);e.default={data:function(){return{topic:{},ratings:[],sortStr:"default",header:{title:null,ratingNum:0},dataState:{loading:!1,err:!1,finished:!1},scrollTop:0}},computed:{sortRatings:function(){return"default"===this.sortStr?this.ratings:"quality"===this.sortStr?this.ratings.sort(function(t,e){return e.ups.length-t.ups.length}):this.ratings.sort(function(t,e){return new Date(t.create_at)-new Date(e.create_at)})}},watch:{sortStr:function(){this.getRarings()},scrollTop:function(){this.scrollTop<150?this.header={title:"",ratingNum:0}:(console.log(this.ratings.length),this.header={title:this.topic.title,ratingNum:this.ratings.length})}},created:function(){this.getData()},methods:{back:function(){this.$router.go(-1)},sort:function(t){this.sortStr=t},onScroll:function(t,e){this.scrollTop=e.scrollTop},getData:function(){var t=this;this.dataState.loading=!0,s.default.get("https://cnodejs.org/api/v1/topic/"+this.$route.params.id).then(function(e){t.topic=e.data.data,t.ratings=e.data.data.replies,t.dataState.loading=!1,t.dataState.finished=!0}).catch(function(e){t.dataState.err=!0,console.log(e)})},getRarings:function(){var t=this;this.dataState.loading=!0,s.default.get("https://cnodejs.org/api/v1/topic/"+this.$route.params.id).then(function(e){t.ratings=e.data.data.replies,t.dataState.finished=!0,t.dataState.loading=!1}).catch(function(e){t.dataState.err=!0,console.log(e)})}},components:{vheader:o.default,ratingsort:u.default,rating:d.default,loading:p.default}}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),s=a(i),r=n(52),o=a(r);e.default={data:function(){return{topicList:[]}},components:{vheader:s.default,topiclist:o.default}}}]);
//# sourceMappingURL=app.570415b5b64236c36508.js.map